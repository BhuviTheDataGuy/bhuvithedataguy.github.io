{% if page.comments != false and jekyll.environment == "production" %}
<div id="disqus_thread">
<div id="disqus_thread_loader">Loading Comments</div>
<script>
var disqus_observer = new IntersectionObserver(function(entries) {
    // comments section reached
    // start loading Disqus now
    if(entries[0].isIntersecting) {
        var disqus_config = function () {
        this.page.url = PAGE_URL;
        this.page.identifier = PAGE_IDENTIFIER;
        };
        (function() {
            var d = document, s = d.createElement('script');
            s.src = 'https://bhuvithedataguy.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();

        // once executed, stop observing
        disqus_observer.disconnect();
    }
}, { threshold: [0] });
disqus_observer.observe(document.querySelector("#disqus_thread"));
</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>
{% endif %}

